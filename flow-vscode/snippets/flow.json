{
    "Workflow Skeleton": {
        "prefix": "workflow",
        "description": "Complete .flow file skeleton with config, services, and workflow blocks",
        "body": [
            "# ${1:Workflow Name}",
            "#",
            "# Usage:",
            "#   flow run ${TM_FILENAME} --mock",
            "",
            "config:",
            "    name: \"${1:Workflow Name}\"",
            "    version: 1",
            "",
            "services:",
            "    ${2:ServiceName} is an API at \"${3:https://api.example.com}\"",
            "",
            "workflow:",
            "    trigger: when ${4:a request is received}",
            "",
            "    ${0}",
            "",
            "    complete with status \"done\""
        ]
    },
    "Step Block": {
        "prefix": "step",
        "description": "Named step block",
        "body": [
            "step ${1:StepName}:",
            "    ${0}"
        ]
    },
    "API Service": {
        "prefix": "service-api",
        "description": "API service declaration with optional headers",
        "body": [
            "${1:ServiceName} is an API at \"${2:https://api.example.com}\"",
            "    with headers:",
            "        Authorization: \"Bearer {env.${3:API_KEY}}\""
        ]
    },
    "Webhook Service": {
        "prefix": "service-webhook",
        "description": "Webhook service declaration",
        "body": [
            "${1:ServiceName} is a webhook at \"${2:https://hooks.example.com/webhook}\""
        ]
    },
    "AI Service": {
        "prefix": "service-ai",
        "description": "AI service declaration",
        "body": [
            "${1:AgentName} is an AI using \"${2|anthropic/claude-sonnet-4-20250514,openai/gpt-4o|}\""
        ]
    },
    "If Otherwise": {
        "prefix": "if-otherwise",
        "description": "Conditional with if/otherwise",
        "body": [
            "if ${1:condition}:",
            "    ${2}",
            "otherwise:",
            "    ${0}"
        ]
    },
    "For Each Loop": {
        "prefix": "for-each",
        "description": "For each loop over a collection",
        "body": [
            "for each ${1:item} in ${2:collection}:",
            "    ${0}"
        ]
    },
    "Error Handler with Retry": {
        "prefix": "retry",
        "description": "Error handler with retry and fallback",
        "body": [
            "on failure:",
            "    retry ${1:3} times waiting ${2:5} seconds",
            "    if still failing:",
            "        ${0}"
        ]
    }
}
